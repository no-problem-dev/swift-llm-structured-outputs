# iOS サンプルアプリ

LLMStructuredOutputs の機能を実際に試せる iOS サンプルアプリ。

## 概要

`Examples/LLMStructuredOutputsExample` には、ライブラリの全機能をインタラクティブに確認できる iOS アプリが含まれています。各デモ画面で実際に API を呼び出し、構造化出力の動作を確認できます。

## デモ一覧

### 基本機能

| デモ | 確認できる機能 |
|-----|--------------|
| **基本的な構造化出力** | `@Structured` マクロによる型定義、`generate()` による出力生成 |
| **フィールド制約** | `.minimum()`, `.maximum()`, `.minLength()`, `.maxLength()`, `.pattern()` 等の制約 |
| **列挙型サポート** | `@StructuredEnum`, `@StructuredCase` によるenum出力 |

### 応用機能

| デモ | 確認できる機能 |
|-----|--------------|
| **会話機能** | `Conversation` クラスによるマルチターン会話、コンテキスト維持 |
| **イベントストリーム** | `chatStream()` によるストリーミング応答、リアルタイム更新 |
| **プロンプト DSL** | `Prompt { }` ビルダーによる構造化プロンプト構築 |
| **プロンプトビルダー** | `PromptBuilder` による段階的プロンプト構築 |

### プロバイダー比較

| デモ | 確認できる機能 |
|-----|--------------|
| **プロバイダー比較** | Claude/GPT/Gemini の並列実行と結果比較、レスポンス時間・トークン使用量の計測 |

## プロバイダー比較デモの詳細

プロバイダー比較デモでは、以下の項目を検証できます：

### モデル選択

各プロバイダーのモデルを個別に選択可能：

- **Claude**: Opus 4.5 / Sonnet 4.5 / Haiku 4.5
- **GPT**: GPT-4o / GPT-4o mini / o1 / o3-mini
- **Gemini**: Pro 2.5 / Flash 2.5 / Flash-Lite 2.5

### テストケースカテゴリ

5つのカテゴリ、14種類のテストケースで構造化出力の品質を比較：

| カテゴリ | テストケース | 検証項目 |
|---------|------------|---------|
| **情報抽出** | 基本情報、数値データ、人物情報 | テキストからの正確な情報抽出 |
| **推論** | 簡単な推論、算術推論、時間推論 | 暗黙の情報の推論能力 |
| **構造** | ネスト構造、配列抽出 | 複雑なデータ構造の生成 |
| **品質** | 曖昧な入力、欠損情報、ハルシネーション耐性 | 堅牢性と正確性 |
| **言語** | 英語、多言語混在、長文処理 | 多言語対応と長文処理能力 |

### カスタム入力モード

任意のシステムプロンプトと入力テキストで比較テストを実行可能。独自のユースケースでの動作検証に使用できます。

### 比較結果

- **レスポンス時間**: 各プロバイダーの応答速度
- **トークン使用量**: 入力/出力トークン数
- **出力 JSON**: 生成された構造化データの内容
- **成功/失敗状態**: エラー発生時の詳細

## セットアップ

### 1. プロジェクトを開く

```bash
open Examples/LLMStructuredOutputsExample/LLMStructuredOutputsExample.xcodeproj
```

### 2. API キーを設定

アプリ内の設定画面から各プロバイダーの API キーを設定：

- Anthropic API Key（Claude用）
- OpenAI API Key（GPT用）
- Google AI API Key（Gemini用）

### 3. 実行

iOS Simulator または実機で実行。

## 動作要件

- iOS 17.0+
- Xcode 16+
- 有効な API キー（使用するプロバイダー分）

## Topics

### 関連ドキュメント

- <doc:GettingStarted>
- <doc:Providers>
- <doc:Conversations>
- <doc:PromptBuilding>
